{"ast":null,"code":"import axios from \"axios\";\nimport { setLogout, setUser } from \"../Reducers/LoginReducer\";\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\nexport const changeUser = props => {\n  return dispatch => {\n    axios.put(`http://localhost:8080/user/id${props.id}`, {\n      avatar: props.avatar,\n      password: props.password\n    }, {\n      headers: {\n        'Authorization': `bearer ${props.token}`\n      }\n    }).then(response => {\n      dispatch(setUser(response.data));\n      localStorage.setItem('avatar', response.data.avatar);\n    });\n  };\n};\nexport const deleteProfile = userId => {\n  return dispatch => {\n    var _s = $RefreshSig$();\n\n    _s(axios.delete(`http://localhost:8080/user/id${userId}`).then(dispatch(setLogout())).catch(_s(error => {\n      _s();\n\n      const [token, setToken, deleteToken] = useLocalStorage(null, 'token');\n      deleteToken();\n      dispatch(setLogout);\n    }, \"Sg/JzHyWOomfV/EY2lytVjsdxHU=\", false, function () {\n      return [useLocalStorage];\n    })), \"Sg/JzHyWOomfV/EY2lytVjsdxHU=\", false, function () {\n      return [useLocalStorage];\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/store/Actions/ProfileSettingsActions.js"],"names":["axios","setLogout","setUser","useLocalStorage","changeUser","props","dispatch","put","id","avatar","password","headers","token","then","response","data","localStorage","setItem","deleteProfile","userId","delete","catch","error","setToken","deleteToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,OAAnB,QAAiC,0BAAjC;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AACnC,SAAQC,QAAD,IAAc;AACnBN,IAAAA,KAAK,CAACO,GAAN,CAAW,gCAA+BF,KAAK,CAACG,EAAG,EAAnD,EAAsD;AAACC,MAAAA,MAAM,EAAEJ,KAAK,CAACI,MAAf;AAAuBC,MAAAA,QAAQ,EAAEL,KAAK,CAACK;AAAvC,KAAtD,EAAwG;AACtGC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASN,KAAK,CAACO,KAAM;AADhC;AAD6F,KAAxG,EAIGC,IAJH,CAKIC,QAAQ,IAAI;AACVR,MAAAA,QAAQ,CAACJ,OAAO,CAACY,QAAQ,CAACC,IAAV,CAAR,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BH,QAAQ,CAACC,IAAT,CAAcN,MAA7C;AACD,KARL;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMS,aAAa,GAAIC,MAAD,IAAY;AACvC,SAAQb,QAAD,IAAc;AAAA;;AACnB,OAAAN,KAAK,CAACoB,MAAN,CAAc,gCAA+BD,MAAO,EAApD,EAAuDN,IAAvD,CACIP,QAAQ,CAACL,SAAS,EAAV,CADZ,EAEEoB,KAFF,IAGIC,KAAK,IAAI;AAAA;;AACP,YAAM,CAACV,KAAD,EAAQW,QAAR,EAAkBC,WAAlB,IAAiCrB,eAAe,CAAC,IAAD,EAAO,OAAP,CAAtD;AACAqB,MAAAA,WAAW;AAEXlB,MAAAA,QAAQ,CAACL,SAAD,CAAR;AACD,KARL;AAAA,cAI6CE,eAJ7C;AAAA;AAAA,cAI6CA,eAJ7C;AAAA;AAUD,GAXD;AAYD,CAbM","sourcesContent":["import axios from \"axios\";\r\nimport {setLogout, setUser} from \"../Reducers/LoginReducer\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\n\r\nexport const changeUser = (props) => {\r\n  return (dispatch) => {\r\n    axios.put(`http://localhost:8080/user/id${props.id}`, {avatar: props.avatar, password: props.password}, {\r\n      headers: {\r\n        'Authorization': `bearer ${props.token}`\r\n      }\r\n    }).then(\r\n        response => {\r\n          dispatch(setUser(response.data));\r\n          localStorage.setItem('avatar', response.data.avatar);\r\n        }\r\n    );\r\n  }\r\n}\r\n\r\nexport const deleteProfile = (userId) => {\r\n  return (dispatch) => {\r\n    axios.delete(`http://localhost:8080/user/id${userId}`).then(\r\n        dispatch(setLogout())\r\n    ).catch(\r\n        error => {\r\n          const [token, setToken, deleteToken] = useLocalStorage(null, 'token');\r\n          deleteToken();\r\n          \r\n          dispatch(setLogout);\r\n        }\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}