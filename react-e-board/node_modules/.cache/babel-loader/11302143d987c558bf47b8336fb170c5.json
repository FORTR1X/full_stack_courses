{"ast":null,"code":"import axios from \"axios\";\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_ADVERTS_PROFILE = 'SET_ADVERTS_PROFILE';\nlet initialState = {\n  user: {},\n  adverts: []\n};\n\nconst myAdvertsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_USER_PROFILE:\n      debugger;\n      getAdverts(action.username);\n      return { ...state,\n        user: action.user\n      };\n\n    case SET_ADVERTS_PROFILE:\n      return { ...state,\n        adverts: action.adverts\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setUserProfile = user => ({\n  type: SET_USER_PROFILE,\n  user\n});\nexport const setAdverts = adverts => ({\n  type: SET_ADVERTS_PROFILE,\n  adverts\n});\nexport const getUserProfile = props => {\n  return dispatch => {\n    axios.get(`/user/${props.user}`, {\n      headers: {\n        'Authorization': `bearer ${props.token}`\n      }\n    }).then(response => {\n      dispatch(setUserProfile(response.data));\n    });\n  };\n};\nexport const getAdverts = username => {\n  debugger;\n  return dispatch => {\n    axios.get(`/ad/user/${username}`).then(response => {\n      dispatch(setAdverts(response.data));\n    });\n  };\n};\nexport default myAdvertsReducer;","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/redux/MyAdvertsReducer.js"],"names":["axios","SET_USER_PROFILE","SET_ADVERTS_PROFILE","initialState","user","adverts","myAdvertsReducer","state","action","type","getAdverts","username","setUserProfile","setAdverts","getUserProfile","props","dispatch","get","headers","token","then","response","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,gBAAgB,GAAG,kBAAzB;AACA,MAAMC,mBAAmB,GAAG,qBAA5B;AAEA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE,EADW;AAEjBC,EAAAA,OAAO,EAAE;AAFQ,CAAnB;;AAKA,MAAMC,gBAAgB,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBJ,YAAyB;AAAA,MAAXK,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAKR,gBAAL;AACE;AACAS,MAAAA,UAAU,CAACF,MAAM,CAACG,QAAR,CAAV;AACA,aAAO,EACL,GAAGJ,KADE;AAELH,QAAAA,IAAI,EAAEI,MAAM,CAACJ;AAFR,OAAP;;AAKF,SAAKF,mBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELF,QAAAA,OAAO,EAAEG,MAAM,CAACH;AAFX,OAAP;;AAIF;AACE,aAAOE,KAAP;AAhBJ;AAkBD,CAnBD;;AAqBA,OAAO,MAAMK,cAAc,GAAIR,IAAD,KAAW;AAAEK,EAAAA,IAAI,EAAER,gBAAR;AAA0BG,EAAAA;AAA1B,CAAX,CAAvB;AACP,OAAO,MAAMS,UAAU,GAAIR,OAAD,KAAc;AAAEI,EAAAA,IAAI,EAAEP,mBAAR;AAA6BG,EAAAA;AAA7B,CAAd,CAAnB;AAEP,OAAO,MAAMS,cAAc,GAAIC,KAAD,IAAW;AACvC,SAAQC,QAAD,IAAc;AACnBhB,IAAAA,KAAK,CAACiB,GAAN,CAAW,SAAQF,KAAK,CAACX,IAAK,EAA9B,EAAiC;AAC/Bc,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASH,KAAK,CAACI,KAAM;AADhC;AADsB,KAAjC,EAIGC,IAJH,CAKIC,QAAQ,IAAI;AACVL,MAAAA,QAAQ,CAACJ,cAAc,CAACS,QAAQ,CAACC,IAAV,CAAf,CAAR;AACD,KAPL;AASD,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMZ,UAAU,GAAIC,QAAD,IAAc;AACtC;AACA,SAAQK,QAAD,IAAc;AACnBhB,IAAAA,KAAK,CAACiB,GAAN,CAAW,YAAWN,QAAS,EAA/B,EAAkCS,IAAlC,CACIC,QAAQ,IAAI;AACVL,MAAAA,QAAQ,CAACH,UAAU,CAACQ,QAAQ,CAACC,IAAV,CAAX,CAAR;AACD,KAHL;AAKD,GAND;AAOD,CATM;AAWP,eAAehB,gBAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_ADVERTS_PROFILE = 'SET_ADVERTS_PROFILE';\r\n\r\nlet initialState = {\r\n  user: {},\r\n  adverts: []\r\n}\r\n\r\nconst myAdvertsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case SET_USER_PROFILE:\r\n      debugger;\r\n      getAdverts(action.username);\r\n      return {\r\n        ...state,\r\n        user: action.user\r\n      }\r\n\r\n    case SET_ADVERTS_PROFILE:\r\n      return {\r\n        ...state,\r\n        adverts: action.adverts\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setUserProfile = (user) => ({ type: SET_USER_PROFILE, user });\r\nexport const setAdverts = (adverts) => ({ type: SET_ADVERTS_PROFILE, adverts });\r\n\r\nexport const getUserProfile = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/user/${props.user}`, {\r\n      headers: {\r\n        'Authorization': `bearer ${props.token}`\r\n      }\r\n    }).then(\r\n        response => {\r\n          dispatch(setUserProfile(response.data));\r\n        }\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAdverts = (username) => {\r\n  debugger;\r\n  return (dispatch) => {\r\n    axios.get(`/ad/user/${username}`).then(\r\n        response => {\r\n          dispatch(setAdverts(response.data));\r\n        }\r\n    )\r\n  }\r\n}\r\n\r\nexport default myAdvertsReducer;"]},"metadata":{},"sourceType":"module"}