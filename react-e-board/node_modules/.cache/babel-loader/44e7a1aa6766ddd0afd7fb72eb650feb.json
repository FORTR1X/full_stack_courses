{"ast":null,"code":"import axios from \"axios\";\nimport { setLogout, setUser } from \"../Reducers/LoginReducer\";\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\nimport { setAdverts, setUserProfile } from \"../Reducers/MyAdvertsReducer\";\nimport { deleteUser } from \"../Reducers/ProfileSettingsReducer\";\nexport const changeUser = props => {\n  return dispatch => {\n    axios.put(`http://localhost:8080/user/id${props.id}`, {\n      avatar: props.avatar,\n      password: props.password\n    }, {\n      headers: {\n        'Authorization': `bearer ${props.token}`\n      }\n    }).then(response => {\n      dispatch(setUser(response.data));\n      localStorage.setItem('avatar', response.data.avatar);\n    });\n  };\n};\nexport const deleteProfile = userId => {\n  return dispatch => {\n    axios.delete(`http://localhost:8080/user/id${userId}`).then(response => {\n      dispatch(deleteUser());\n      dispatch(setLogout());\n    }).catch(error => {\n      dispatch(setUserProfile(error.data));\n      dispatch(setLogout());\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/store/Actions/ProfileSettingsActions.js"],"names":["axios","setLogout","setUser","useLocalStorage","setAdverts","setUserProfile","deleteUser","changeUser","props","dispatch","put","id","avatar","password","headers","token","then","response","data","localStorage","setItem","deleteProfile","userId","delete","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,OAAnB,QAAiC,0BAAjC;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,SAAQC,UAAR,EAAoBC,cAApB,QAAyC,8BAAzC;AACA,SAAQC,UAAR,QAAyB,oCAAzB;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AACnC,SAAQC,QAAD,IAAc;AACnBT,IAAAA,KAAK,CAACU,GAAN,CAAW,gCAA+BF,KAAK,CAACG,EAAG,EAAnD,EAAsD;AAACC,MAAAA,MAAM,EAAEJ,KAAK,CAACI,MAAf;AAAuBC,MAAAA,QAAQ,EAAEL,KAAK,CAACK;AAAvC,KAAtD,EAAwG;AACtGC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASN,KAAK,CAACO,KAAM;AADhC;AAD6F,KAAxG,EAIGC,IAJH,CAKIC,QAAQ,IAAI;AACVR,MAAAA,QAAQ,CAACP,OAAO,CAACe,QAAQ,CAACC,IAAV,CAAR,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BH,QAAQ,CAACC,IAAT,CAAcN,MAA7C;AACD,KARL;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,MAAMS,aAAa,GAAIC,MAAD,IAAY;AACvC,SAAQb,QAAD,IAAc;AACnBT,IAAAA,KAAK,CAACuB,MAAN,CAAc,gCAA+BD,MAAO,EAApD,EAAuDN,IAAvD,CACIC,QAAQ,IAAI;AACVR,MAAAA,QAAQ,CAACH,UAAU,EAAX,CAAR;AACAG,MAAAA,QAAQ,CAACR,SAAS,EAAV,CAAR;AACD,KAJL,EAKEuB,KALF,CAMIC,KAAK,IAAI;AACPhB,MAAAA,QAAQ,CAACJ,cAAc,CAACoB,KAAK,CAACP,IAAP,CAAf,CAAR;AACAT,MAAAA,QAAQ,CAACR,SAAS,EAAV,CAAR;AACD,KATL;AAWD,GAZD;AAaD,CAdM","sourcesContent":["import axios from \"axios\";\r\nimport {setLogout, setUser} from \"../Reducers/LoginReducer\";\r\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\r\nimport {setAdverts, setUserProfile} from \"../Reducers/MyAdvertsReducer\";\r\nimport {deleteUser} from \"../Reducers/ProfileSettingsReducer\";\r\n\r\nexport const changeUser = (props) => {\r\n  return (dispatch) => {\r\n    axios.put(`http://localhost:8080/user/id${props.id}`, {avatar: props.avatar, password: props.password}, {\r\n      headers: {\r\n        'Authorization': `bearer ${props.token}`\r\n      }\r\n    }).then(\r\n        response => {\r\n          dispatch(setUser(response.data));\r\n          localStorage.setItem('avatar', response.data.avatar);\r\n        }\r\n    );\r\n  }\r\n}\r\n\r\nexport const deleteProfile = (userId) => {\r\n  return (dispatch) => {\r\n    axios.delete(`http://localhost:8080/user/id${userId}`).then(\r\n        response => {\r\n          dispatch(deleteUser())\r\n          dispatch(setLogout())\r\n        }\r\n    ).catch(\r\n        error => {\r\n          dispatch(setUserProfile(error.data))\r\n          dispatch(setLogout());\r\n        }\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}