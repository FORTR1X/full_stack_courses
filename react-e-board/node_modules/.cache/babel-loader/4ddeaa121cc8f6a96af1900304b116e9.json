{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FORTRIX\\\\Desktop\\\\react_project\\\\src\\\\components\\\\Adverts\\\\SearchFilter\\\\SearchFilter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport s from './SearchFilter.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchFilter = props => {\n  _s();\n\n  // props.currentCategory.name - запрашиваем category и subcategory\n  // props.currentCategory.categoryName - запрашиваем subcategory\n  // props.currentCategory.subcategories - запрашиваем сразу список характеристик\n  const [categoryId, setCategoryId] = useState(0);\n\n  const handleSetCategoryId = id => {\n    setCategoryId(id);\n  };\n\n  const [chosedCategory, setChosedCategory] = useState('Не выбрано');\n\n  const handleSetChosedCategory = category => {\n    if (chosedSubcategory !== 'Не выбрано') setChosedSubcategory('Не выбрано');\n    handleSetCategoryId(category);\n    setChosedCategory(category);\n  };\n\n  const [subcategoryId, setSubcategoryId] = useState(0);\n\n  const handleSetSubcategoryId = id => {\n    setSubcategoryId(id);\n  };\n\n  const [chosedSubcategory, setChosedSubcategory] = useState('Не выбрано');\n\n  const handleSetChosedSubcategory = subcategory => {\n    handleSetSubcategoryId(subcategory);\n    setChosedSubcategory(subcategory);\n  };\n\n  const getSubcategoryListByCurrentCategory = () => {\n    let subcategoryList = [];\n\n    if (props.subcategoryList.length > 0) {\n      for (let i = 0; i < props.subcategoryList.length; i++) {\n        if (props.subcategoryList[i].categoryId === parseInt(categoryId)) {\n          subcategoryList.push(props.subcategoryList[i]);\n        }\n      }\n    }\n\n    return subcategoryList;\n  };\n\n  const getCategoryOptions = () => {\n    return props.categoryList.map(category => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: category.id,\n        children: category.option\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  const getSubcategoryOptions = () => {\n    const subcategoryList = getSubcategoryListByCurrentCategory();\n    return subcategoryList.map(subcategory => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: subcategory.id,\n        children: subcategory.option\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  useEffect(() => {\n    if (props.subcategoryList.length === 0) {\n      if (props.currentCategory.name) {\n        props.getSubCategories();\n        props.getCategories();\n      }\n\n      if (props.currentCategory.categoryName) props.getSubCategories();\n    }\n  }, [props.subcategoryList]);\n  console.log(subcategoryId); // создать компоненты input,\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.filter__container,\n    children: [props.currentCategory.name && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: chosedCategory,\n        onChange: event => handleSetChosedCategory(event.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          hidden: true,\n          children: \"\\u041D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), getCategoryOptions()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: chosedSubcategory,\n        onChange: event => handleSetChosedSubcategory(event.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          hidden: true,\n          children: \"\\u041D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this), getSubcategoryOptions()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this), props.currentCategory.categoryName && /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }, this), (props.currentCategory.subcategories || subcategoryId > 0) && /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SearchFilter, \"sVIDQjWDDGnGqmwFua6w4Fdrv0A=\");\n\n_c = SearchFilter;\nexport default SearchFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchFilter\");","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/components/Adverts/SearchFilter/SearchFilter.js"],"names":["React","useEffect","useState","s","SearchFilter","props","categoryId","setCategoryId","handleSetCategoryId","id","chosedCategory","setChosedCategory","handleSetChosedCategory","category","chosedSubcategory","setChosedSubcategory","subcategoryId","setSubcategoryId","handleSetSubcategoryId","handleSetChosedSubcategory","subcategory","getSubcategoryListByCurrentCategory","subcategoryList","length","i","parseInt","push","getCategoryOptions","categoryList","map","option","getSubcategoryOptions","currentCategory","name","getSubCategories","getCategories","categoryName","console","log","filter__container","event","target","value","subcategories"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport s from './SearchFilter.module.css';\r\n\r\nconst SearchFilter = (props) => {\r\n\r\n  // props.currentCategory.name - запрашиваем category и subcategory\r\n  // props.currentCategory.categoryName - запрашиваем subcategory\r\n  // props.currentCategory.subcategories - запрашиваем сразу список характеристик\r\n  const [categoryId, setCategoryId] = useState(0);\r\n  const handleSetCategoryId = (id) => {\r\n    setCategoryId(id);\r\n  }\r\n\r\n  const [chosedCategory, setChosedCategory] = useState('Не выбрано');\r\n  const handleSetChosedCategory = (category) => {\r\n    if (chosedSubcategory !== 'Не выбрано')\r\n      setChosedSubcategory('Не выбрано');\r\n\r\n    handleSetCategoryId(category);\r\n    setChosedCategory(category);\r\n  }\r\n\r\n\r\n  const [subcategoryId, setSubcategoryId] = useState(0);\r\n  const handleSetSubcategoryId = (id) => {\r\n    setSubcategoryId(id);\r\n  }\r\n\r\n  const [chosedSubcategory, setChosedSubcategory] = useState('Не выбрано');\r\n  const handleSetChosedSubcategory = (subcategory) => {\r\n    handleSetSubcategoryId(subcategory);\r\n    setChosedSubcategory(subcategory);\r\n  }\r\n\r\n  const getSubcategoryListByCurrentCategory = () => {\r\n    let subcategoryList = [];\r\n\r\n    if (props.subcategoryList.length > 0) {\r\n      for (let i = 0; i < props.subcategoryList.length; i++) {\r\n        if (props.subcategoryList[i].categoryId === parseInt(categoryId)) {\r\n          subcategoryList.push(props.subcategoryList[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return subcategoryList;\r\n  }\r\n\r\n  const getCategoryOptions = () => {\r\n    return props.categoryList.map(category => {\r\n      return <option value={category.id}>{category.option}</option>\r\n    })\r\n  };\r\n\r\n  const getSubcategoryOptions = () => {\r\n    const subcategoryList = getSubcategoryListByCurrentCategory();\r\n\r\n    return subcategoryList.map(subcategory => {\r\n      return <option value={subcategory.id}>{subcategory.option}</option>\r\n    })\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.subcategoryList.length === 0) {\r\n      if (props.currentCategory.name) {\r\n        props.getSubCategories();\r\n        props.getCategories();\r\n      }\r\n\r\n      if (props.currentCategory.categoryName)\r\n        props.getSubCategories();\r\n    }\r\n  }, [props.subcategoryList]);\r\n\r\n  console.log(subcategoryId);\r\n\r\n  // создать компоненты input,\r\n  return (\r\n      <div className={s.filter__container}>\r\n        {props.currentCategory.name &&\r\n          <div>\r\n            <select value={chosedCategory} onChange={event => handleSetChosedCategory(event.target.value)}>\r\n              <option disabled hidden>Не выбрано</option>\r\n              {getCategoryOptions()}\r\n            </select>\r\n\r\n            <select value={chosedSubcategory} onChange={event => handleSetChosedSubcategory(event.target.value)}>\r\n              <option disabled hidden>Не выбрано</option>\r\n              {getSubcategoryOptions()}\r\n            </select>\r\n\r\n          </div>\r\n        }\r\n\r\n        {props.currentCategory.categoryName &&\r\n          <div>\r\n\r\n          </div>\r\n        }\r\n\r\n        {(props.currentCategory.subcategories || subcategoryId > 0) &&\r\n          <div>\r\n\r\n          </div>\r\n        }\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default SearchFilter;"]},"metadata":{},"sourceType":"module"}