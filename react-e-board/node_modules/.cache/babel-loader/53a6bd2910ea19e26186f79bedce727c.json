{"ast":null,"code":"import axios from \"axios\";\nimport { useLocation } from \"react-router-dom\";\nconst SET_ADVERTS = 'SET_ADVERTS';\nconst SET_LOCATION = 'SET_LOCATION';\nlet initialState = {\n  adverts: [],\n  namePage: ''\n};\n\nconst advertsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(location);\n\n  switch (action.location) {\n    case '/':\n      setNamePage('Новые объявления');\n      break;\n\n    case '/transport':\n      setNamePage('Транспорт');\n      break;\n\n    case '/nedvijimost':\n      setNamePage('Недвижимость');\n      break;\n\n    case '/all_for_home':\n      setNamePage('Всё для дома');\n      break;\n\n    case '/nedvijimost/kvartiri':\n      setNamePage('Квартиры');\n      break;\n\n    case '/nedvijimost/doma':\n      setNamePage('Дома');\n      break;\n\n    case '/transport/mashini':\n      setNamePage('Машины');\n      break;\n\n    case '/transport/motocicly':\n      setNamePage('Мотоциклы');\n      break;\n\n    case '/all_for_home/bitovaya_technika':\n      setNamePage('Бытовая техника');\n      break;\n\n    case '/all_for_home/mebel':\n      setNamePage('Мебель');\n      break;\n\n    default:\n      setNamePage('Новые объявления');\n  }\n\n  switch (action.type) {\n    case SET_ADVERTS:\n      let newAdvertList = [...state.adverts];\n      action.ads.map(ad => {\n        newAdvertList = [...newAdvertList, ad];\n      });\n      return { ...state,\n        adverts: newAdvertList\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setAdverts = ads => ({\n  type: SET_ADVERTS,\n  ads\n});\nexport const getImmovables = page => {\n  return dispatch => {\n    axios.get(`/ad/category/id1/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getTransport = page => {\n  return dispatch => {\n    axios.get(`/ad/category/id2/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getHousehold = page => {\n  return dispatch => {\n    axios.get(`/ad/category/id3/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getHouses = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id1/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getAppartaments = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id2/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getCars = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id3/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getMotocycles = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id4/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getAppliance = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id5/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getFurniture = page => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id6/?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const getNewAds = page => {\n  return dispatch => {\n    axios.get(`/ad/view?limit=8&page=${page}`).then(response => dispatch(setAdverts(response.data)));\n  };\n};\nexport const setNamePage = location => ({\n  location\n});\nexport const getAdverts = props => {\n  return dispatch => {\n    switch (props.location) {\n      case '/':\n        dispatch(getNewAds(props.page));\n        break;\n\n      case '/nedvijimost':\n        dispatch(getImmovables(props.page));\n        break;\n\n      case '/transport':\n        dispatch(getTransport(props.page));\n        break;\n\n      case '/all_for_home':\n        dispatch(getHousehold(props.page));\n        break;\n\n      case '/nedvijimost/kvartiri':\n        dispatch(getAppartaments(props.page));\n        break;\n\n      case '/nedvijimost/doma':\n        dispatch(getHouses(props.page));\n        break;\n\n      case '/transport/mashini':\n        dispatch(getCars(props.page));\n        break;\n\n      case '/transport/motocicly':\n        dispatch(getMotocycles(props.page));\n        break;\n\n      case '/all_for_home/bitovaya_technika':\n        dispatch(getAppliance(props.page));\n        break;\n\n      case '/all_for_home/mebel':\n        dispatch(getFurniture(props.page));\n        break;\n\n      default:\n        return null;\n    }\n  };\n};\nexport default advertsReducer;","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/redux/AdvertsReducer.js"],"names":["axios","useLocation","SET_ADVERTS","SET_LOCATION","initialState","adverts","namePage","advertsReducer","state","action","console","log","location","setNamePage","type","newAdvertList","ads","map","ad","setAdverts","getImmovables","page","dispatch","get","then","response","data","getTransport","getHousehold","getHouses","getAppartaments","getCars","getMotocycles","getAppliance","getFurniture","getNewAds","getAdverts","props"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nconst SET_ADVERTS = 'SET_ADVERTS';\r\nconst SET_LOCATION = 'SET_LOCATION';\r\n\r\nlet initialState = {\r\n\r\n  adverts: [],\r\n  namePage: ''\r\n\r\n}\r\n\r\n\r\nconst advertsReducer = (state = initialState, action) => {\r\n\r\n  console.log(location)\r\n\r\n  switch (action.location) {\r\n    case '/':\r\n      setNamePage('Новые объявления');\r\n      break;\r\n\r\n    case '/transport':\r\n      setNamePage('Транспорт');\r\n      break;\r\n\r\n    case '/nedvijimost':\r\n      setNamePage('Недвижимость');\r\n      break;\r\n\r\n    case '/all_for_home':\r\n      setNamePage('Всё для дома');\r\n      break;\r\n\r\n    case '/nedvijimost/kvartiri':\r\n      setNamePage('Квартиры');\r\n      break;\r\n\r\n    case '/nedvijimost/doma':\r\n      setNamePage('Дома')\r\n      break;\r\n\r\n    case '/transport/mashini':\r\n      setNamePage('Машины');\r\n      break;\r\n\r\n    case '/transport/motocicly':\r\n      setNamePage('Мотоциклы');\r\n      break;\r\n\r\n    case '/all_for_home/bitovaya_technika':\r\n      setNamePage('Бытовая техника');\r\n      break;\r\n\r\n    case '/all_for_home/mebel':\r\n      setNamePage('Мебель');\r\n      break;\r\n\r\n    default: setNamePage('Новые объявления');\r\n  }\r\n\r\n  switch (action.type) {\r\n\r\n    case SET_ADVERTS:\r\n      let newAdvertList = [...state.adverts];\r\n      action.ads.map(ad => {\r\n        newAdvertList = [...newAdvertList, ad]\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        adverts: newAdvertList,\r\n      }\r\n\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport const setAdverts = (ads) => ({type: SET_ADVERTS, ads});\r\n\r\nexport const getImmovables = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id1/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getTransport = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id2/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHousehold = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id3/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHouses = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id1/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppartaments = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id2/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getCars = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id3/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getMotocycles = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id4/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppliance = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id5/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getFurniture = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id6/?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getNewAds = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/view?limit=8&page=${page}`).then(\r\n        response => dispatch(setAdverts(response.data))\r\n    )\r\n  }\r\n}\r\n\r\nexport const setNamePage = (location) => ( {location} )\r\n\r\nexport const getAdverts = (props) => {\r\n  return (dispatch) => {\r\n\r\n    switch (props.location) {\r\n      case '/':\r\n        dispatch(getNewAds(props.page));\r\n        break;\r\n\r\n      case '/nedvijimost':\r\n        dispatch(getImmovables(props.page));\r\n        break;\r\n\r\n      case '/transport':\r\n        dispatch(getTransport(props.page));\r\n        break;\r\n\r\n      case '/all_for_home':\r\n        dispatch(getHousehold(props.page));\r\n        break;\r\n\r\n      case '/nedvijimost/kvartiri':\r\n        dispatch(getAppartaments(props.page));\r\n        break;\r\n\r\n      case '/nedvijimost/doma':\r\n        dispatch(getHouses(props.page));\r\n        break;\r\n\r\n      case '/transport/mashini':\r\n        dispatch(getCars(props.page));\r\n        break;\r\n\r\n      case '/transport/motocicly':\r\n        dispatch(getMotocycles(props.page));\r\n        break;\r\n\r\n      case '/all_for_home/bitovaya_technika':\r\n        dispatch(getAppliance(props.page));\r\n        break;\r\n\r\n      case '/all_for_home/mebel':\r\n        dispatch(getFurniture(props.page));\r\n        break;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default advertsReducer;"]},"metadata":{},"sourceType":"module"}