{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FORTRIX\\\\Desktop\\\\react_project\\\\src\\\\components\\\\Adverts\\\\SearchFilter\\\\SearchFilter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport s from './SearchFilter.module.css';\nimport Select from \"./Select/Select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchFilter = props => {\n  _s();\n\n  let template = props.template;\n  let rent = props.store.rent;\n\n  const onChangeRent = event => {\n    props.changeRent(event.target.value);\n  };\n\n  let rentPeriod = props.store.rentPeriod;\n\n  const onChangeRentPeriod = event => {\n    props.changeRentPeriod(event.target.value);\n  };\n\n  let roomNumber = props.store.roomNumber;\n\n  const onChangeRoomNumber = event => {\n    props.changeRoomNumber(event.target.value);\n  };\n\n  let stage = props.store.stage;\n\n  const onChangeStage = event => {\n    props.changeStage(event.target.value);\n  };\n\n  let brand = props.store.brand;\n\n  const onChangeBrand = event => {\n    props.changeBrand(event.target.value);\n  };\n\n  let relaseYear = props.store.relaseYear;\n\n  const onChangeRelaseYear = event => {\n    props.changeRelaseYear(event.target.value);\n  };\n\n  let milage = props.store.milage;\n\n  const onChangeMilage = event => {\n    props.changeMilage(event.target.value);\n  };\n\n  let capacity = props.store.capacity;\n\n  const onChangeCapacity = event => {\n    props.changeCapacity(event.target.value);\n  };\n\n  let wheelDrive = props.store.wheelDrive;\n\n  const onChangeWheelDrive = event => {\n    props.changeWheelDrive(event.target.value);\n  };\n\n  let gears = props.store.gears;\n\n  const onChangeGears = event => {\n    props.changeGears(event.target.value);\n  };\n\n  let wasInUse = props.store.wasInUse;\n\n  const onChangeWasInUse = event => {\n    props.changeWasInUse(event.target.value);\n  };\n\n  let monthlyCost = props.store.monthlyCost;\n\n  const onChangeMonthlyCost = event => {\n    props.changeMonthlyCost(event.target.value);\n  };\n\n  const [categoryId, setCategoryId] = useState(0);\n\n  const handleSetCategoryId = id => {\n    setCategoryId(id);\n  };\n\n  const [chosedCategory, setChosedCategory] = useState('Не выбрано');\n\n  const handleSetChosedCategory = category => {\n    if (chosedSubcategory !== 'Не выбрано') {\n      setChosedSubcategory('Не выбрано');\n      setSubcategoryId(0);\n    }\n\n    handleSetCategoryId(parseInt(category));\n    setChosedCategory(category);\n  };\n\n  const [subcategoryId, setSubcategoryId] = useState(0);\n\n  const handleSetSubcategoryId = id => {\n    setSubcategoryId(id);\n  };\n\n  const [chosedSubcategory, setChosedSubcategory] = useState('Не выбрано');\n\n  const handleSetChosedSubcategory = subcategory => {\n    handleSetSubcategoryId(parseInt(subcategory));\n    setChosedSubcategory(subcategory);\n  };\n\n  const getSubcategoryListByCurrentCategory = () => {\n    let subcategoryList = [];\n\n    if (props.subcategoryList.length > 0) {\n      for (let i = 0; i < props.subcategoryList.length; i++) {\n        if (props.subcategoryList[i].categoryId === categoryId) {\n          subcategoryList.push(props.subcategoryList[i]);\n        }\n      }\n    }\n\n    return subcategoryList;\n  };\n\n  const getCategoryOptions = () => {\n    return props.categoryList.map(category => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: category.id,\n        children: category.option\n      }, category.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  const getSubcategoryOptions = () => {\n    const subcategoryList = getSubcategoryListByCurrentCategory();\n    return subcategoryList.map(subcategory => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: subcategory.id,\n        children: subcategory.option\n      }, subcategory.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  const getBoolOption = () => {\n    return [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: 'Да',\n      children: \"\\u0414\\u0430\"\n    }, 1, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: 'Нет',\n      children: \"\\u041D\\u0435\\u0442\"\n    }, 2, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)];\n  };\n\n  const getRentPeriodOption = () => {\n    return [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: 'Длительный',\n      children: \"\\u0414\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439\"\n    }, 1, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: 'Посуточный',\n      children: \"\\u041F\\u043E\\u0441\\u0443\\u0442\\u043E\\u0447\\u043D\\u044B\\u0439\"\n    }, 2, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)];\n  };\n\n  useEffect(() => {\n    if (props.subcategoryList.length === 0) {\n      if (props.currentCategory.name) {\n        props.getSubCategories();\n        props.getCategories();\n      }\n\n      if (props.currentCategory.categoryName) {\n        handleSetCategoryId(props.currentCategory.categoryId);\n        props.getSubCategories();\n      }\n    }\n  }, [props.subcategoryList]);\n  useEffect(() => {\n    if (subcategoryId > 0) props.getTemplate(subcategoryId);\n  }, [subcategoryId]);\n  console.log(template); // создать компоненты input, select\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.filter__container,\n    children: [props.currentCategory.name && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        label: 'Категория',\n        handle: getCategoryOptions,\n        value: chosedCategory,\n        onChange: handleSetChosedCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        label: 'Подкатегория',\n        handle: getSubcategoryOptions,\n        value: chosedSubcategory,\n        onChange: handleSetChosedSubcategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }, this), props.currentCategory.categoryName && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        label: 'Подкатегория',\n        handle: getSubcategoryOptions,\n        value: chosedSubcategory,\n        onChange: handleSetChosedSubcategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }, this), (props.currentCategory.subcategories || subcategoryId > 0) && template && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.template__price,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: s.template__price_start,\n          value: template.priceStart,\n          onChange: event => template.priceStart = event.target.value,\n          type: \"number\",\n          min: 0,\n          placeholder: 'Цена от'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: s.template__price_end,\n          type: \"number\",\n          min: 0,\n          placeholder: 'Цена до'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), subcategoryId === 1 && template && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          label: 'Аренда',\n          handle: getBoolOption,\n          value: chosedRent,\n          onChange: handleSetChosedRent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this), template.rent && /*#__PURE__*/_jsxDEV(Select, {\n          label: 'Срок аренды',\n          handle: getRentPeriodOption,\n          value: chosedRentPeriod,\n          onChange: handleSetChosedRentPeriod\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: template.monthlyCost,\n          placeholder: 'Цена в рублях: 100000',\n          onChange: event => {\n            template.monthlyCost = event.target.value;\n            debugger;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SearchFilter, \"/UsmgZpclCbZvD0EGfu3sofPNdI=\");\n\n_c = SearchFilter;\nexport default SearchFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchFilter\");","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/components/Adverts/SearchFilter/SearchFilter.js"],"names":["React","useEffect","useState","s","Select","SearchFilter","props","template","rent","store","onChangeRent","event","changeRent","target","value","rentPeriod","onChangeRentPeriod","changeRentPeriod","roomNumber","onChangeRoomNumber","changeRoomNumber","stage","onChangeStage","changeStage","brand","onChangeBrand","changeBrand","relaseYear","onChangeRelaseYear","changeRelaseYear","milage","onChangeMilage","changeMilage","capacity","onChangeCapacity","changeCapacity","wheelDrive","onChangeWheelDrive","changeWheelDrive","gears","onChangeGears","changeGears","wasInUse","onChangeWasInUse","changeWasInUse","monthlyCost","onChangeMonthlyCost","changeMonthlyCost","categoryId","setCategoryId","handleSetCategoryId","id","chosedCategory","setChosedCategory","handleSetChosedCategory","category","chosedSubcategory","setChosedSubcategory","setSubcategoryId","parseInt","subcategoryId","handleSetSubcategoryId","handleSetChosedSubcategory","subcategory","getSubcategoryListByCurrentCategory","subcategoryList","length","i","push","getCategoryOptions","categoryList","map","option","getSubcategoryOptions","getBoolOption","getRentPeriodOption","currentCategory","name","getSubCategories","getCategories","categoryName","getTemplate","console","log","filter__container","subcategories","template__price","template__price_start","priceStart","template__price_end","chosedRent","handleSetChosedRent","chosedRentPeriod","handleSetChosedRentPeriod"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport s from './SearchFilter.module.css';\r\nimport Select from \"./Select/Select\";\r\n\r\nconst SearchFilter = (props) => {\r\n\r\n  let template = props.template;\r\n\r\n  let rent = props.store.rent;\r\n  const onChangeRent = (event) => { props.changeRent(event.target.value); }\r\n\r\n  let rentPeriod = props.store.rentPeriod;\r\n  const onChangeRentPeriod = (event) => { props.changeRentPeriod(event.target.value); }\r\n\r\n  let roomNumber = props.store.roomNumber;\r\n  const onChangeRoomNumber = (event) => { props.changeRoomNumber(event.target.value); }\r\n\r\n  let stage = props.store.stage;\r\n  const onChangeStage = (event) => { props.changeStage(event.target.value); }\r\n\r\n  let brand = props.store.brand;\r\n  const onChangeBrand = (event) => { props.changeBrand(event.target.value); }\r\n\r\n  let relaseYear = props.store.relaseYear;\r\n  const onChangeRelaseYear = (event) => { props.changeRelaseYear(event.target.value); }\r\n\r\n  let milage = props.store.milage;\r\n  const onChangeMilage = (event) => { props.changeMilage(event.target.value); }\r\n\r\n  let capacity = props.store.capacity;\r\n  const onChangeCapacity = (event) => { props.changeCapacity(event.target.value); }\r\n\r\n  let wheelDrive = props.store.wheelDrive;\r\n  const onChangeWheelDrive = (event) => { props.changeWheelDrive(event.target.value); }\r\n\r\n  let gears = props.store.gears;\r\n  const onChangeGears = (event) => { props.changeGears(event.target.value); }\r\n\r\n  let wasInUse = props.store.wasInUse;\r\n  const onChangeWasInUse = (event) => { props.changeWasInUse(event.target.value); }\r\n\r\n  let monthlyCost = props.store.monthlyCost;\r\n  const onChangeMonthlyCost = (event) => { props.changeMonthlyCost(event.target.value); }\r\n\r\n  const [categoryId, setCategoryId] = useState(0);\r\n  const handleSetCategoryId = (id) => {\r\n    setCategoryId(id);\r\n  }\r\n\r\n  const [chosedCategory, setChosedCategory] = useState('Не выбрано');\r\n  const handleSetChosedCategory = (category) => {\r\n    if (chosedSubcategory !== 'Не выбрано') {\r\n      setChosedSubcategory('Не выбрано');\r\n      setSubcategoryId(0);\r\n    }\r\n\r\n    handleSetCategoryId(parseInt(category));\r\n    setChosedCategory(category);\r\n  }\r\n\r\n\r\n  const [subcategoryId, setSubcategoryId] = useState(0);\r\n  const handleSetSubcategoryId = (id) => {\r\n    setSubcategoryId(id);\r\n  }\r\n\r\n  const [chosedSubcategory, setChosedSubcategory] = useState('Не выбрано');\r\n  const handleSetChosedSubcategory = (subcategory) => {\r\n    handleSetSubcategoryId(parseInt(subcategory));\r\n    setChosedSubcategory(subcategory);\r\n  }\r\n\r\n  const getSubcategoryListByCurrentCategory = () => {\r\n    let subcategoryList = [];\r\n\r\n    if (props.subcategoryList.length > 0) {\r\n      for (let i = 0; i < props.subcategoryList.length; i++) {\r\n        if (props.subcategoryList[i].categoryId === categoryId) {\r\n          subcategoryList.push(props.subcategoryList[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return subcategoryList;\r\n  }\r\n\r\n  const getCategoryOptions = () => {\r\n    return props.categoryList.map(category => {\r\n      return <option key={category.id} value={category.id}>{category.option}</option>\r\n    })\r\n  };\r\n\r\n  const getSubcategoryOptions = () => {\r\n    const subcategoryList = getSubcategoryListByCurrentCategory();\r\n\r\n    return subcategoryList.map(subcategory => {\r\n      return <option key={subcategory.id} value={subcategory.id}>{subcategory.option}</option>\r\n    })\r\n  };\r\n\r\n  const getBoolOption = () => {\r\n    return ([<option key={1} value={'Да'}>Да</option>,\r\n            <option key={2} value={'Нет'}>Нет</option>])\r\n\r\n  }\r\n\r\n  const getRentPeriodOption = () => {\r\n    return ([<option key={1} value={'Длительный'}>Длительный</option>,\r\n      <option key={2} value={'Посуточный'}>Посуточный</option>])\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.subcategoryList.length === 0) {\r\n      if (props.currentCategory.name) {\r\n        props.getSubCategories();\r\n        props.getCategories();\r\n      }\r\n\r\n      if (props.currentCategory.categoryName) {\r\n        handleSetCategoryId(props.currentCategory.categoryId);\r\n        props.getSubCategories();\r\n      }\r\n    }\r\n  }, [props.subcategoryList]);\r\n\r\n  useEffect(() => {\r\n    if (subcategoryId > 0)\r\n      props.getTemplate(subcategoryId);\r\n  }, [subcategoryId]);\r\n\r\n  console.log(template)\r\n\r\n  // создать компоненты input, select\r\n  return (\r\n      <div className={s.filter__container}>\r\n        {props.currentCategory.name &&\r\n          <div>\r\n            <Select label={'Категория'} handle={getCategoryOptions} value={chosedCategory} onChange={handleSetChosedCategory}/>\r\n            <Select label={'Подкатегория'} handle={getSubcategoryOptions} value={chosedSubcategory} onChange={handleSetChosedSubcategory}/>\r\n          </div>\r\n        }\r\n\r\n        {props.currentCategory.categoryName &&\r\n          <div>\r\n            <Select label={'Подкатегория'} handle={getSubcategoryOptions} value={chosedSubcategory} onChange={handleSetChosedSubcategory}/>\r\n          </div>\r\n        }\r\n\r\n        {(props.currentCategory.subcategories || subcategoryId > 0) && template &&\r\n          <div>\r\n            <div className={s.template__price}>\r\n              <input className={s.template__price_start} value={template.priceStart} onChange={event => template.priceStart = event.target.value} type=\"number\" min={0} placeholder={'Цена от'}/>\r\n              <input className={s.template__price_end} type=\"number\" min={0} placeholder={'Цена до'}/>\r\n            </div>\r\n\r\n            {subcategoryId === 1 && template &&\r\n              <div>\r\n                {/*floor: 0\r\n                floorCount: 0\r\n                monthlyCost: 0\r\n                priceEnd: 0\r\n                priceStart: 0\r\n                rent: false\r\n                rentPeriod: false\r\n                roomNumber: 0*/}\r\n                <Select label={'Аренда'} handle={getBoolOption} value={chosedRent} onChange={handleSetChosedRent}/>\r\n                {template.rent &&\r\n                  <Select label={'Срок аренды'} handle={getRentPeriodOption} value={chosedRentPeriod} onChange={handleSetChosedRentPeriod}/>\r\n                }\r\n                <input value={template.monthlyCost} placeholder={'Цена в рублях: 100000'} onChange={event => {\r\n                  template.monthlyCost = event.target.value;\r\n                  debugger;\r\n                }}/>\r\n              </div>\r\n            }\r\n          </div>\r\n        }\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default SearchFilter;"]},"metadata":{},"sourceType":"module"}