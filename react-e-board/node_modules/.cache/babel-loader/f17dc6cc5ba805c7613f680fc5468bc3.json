{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useLocation } from \"react-router-dom\";\nconst SET_IMMOVABLES = 'SET_IMMOVABLES';\nconst SET_TRANSPORT = 'SET_TRANSPORT';\nconst SET_HOUSEHOLD = 'SET_HOUSEHOLD';\nconst SET_HOUSES = 'SET_HOUSES';\nconst SET_APPARTAMENTS = 'SET_APPARTAMENTS';\nconst SET_CARS = 'SET_CARS';\nconst SET_MOTOCYCLES = 'SET_MOTOCYCLES';\nconst SET_APPLIANCE = 'SET_APPLIANCE';\nconst SET_FURNITURE = 'SET_FURNITURE';\nconst SET_NEW_ADS = 'SET_NEW_ADS';\nconst SET_ADVERTS = 'SET_ADVERTS';\nlet initialState = {\n  /*  // Категории\r\n    immovables: [],\r\n    transport: [],\r\n    household: [],\r\n  \r\n    // Подкатегории\r\n    houses: [],\r\n    appartaments: [],\r\n  \r\n    cars: [],\r\n    motocycles: [],\r\n  \r\n    appliances: [],\r\n    furniture: [],\r\n  \r\n    // Последние добавленные\r\n    newAds: [],*/\n  adverts: [],\n  prevLocation: ''\n};\n\nconst advertsReducer = function () {\n  _s();\n\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let nav = useLocation().pathname;\n  debugger;\n\n  switch (action.type) {\n    /*    case SET_IMMOVABLES:\r\n          return {\r\n            ...state,\r\n            immovables: [...state.immovables, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_TRANSPORT:\r\n          return {\r\n            ...state,\r\n            transport: [...state.transport, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_HOUSEHOLD:\r\n          return {\r\n            ...state,\r\n            household: [...state.household, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_HOUSES:\r\n          return {\r\n            ...state,\r\n            houses: [...state.houses, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_APPARTAMENTS:\r\n          return {\r\n            ...state,\r\n            appartaments: [...state.appartaments, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_CARS:\r\n          return {\r\n            ...state,\r\n            cars: [...state.cars, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_MOTOCYCLES:\r\n          return {\r\n            ...state,\r\n            motocycles: [...state.motocycles, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_APPLIANCE:\r\n          return {\r\n            ...state,\r\n            appliances: [...state.appliances, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_FURNITURE:\r\n          return {\r\n            ...state,\r\n            furniture: [...state.furniture, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }\r\n    \r\n        case SET_NEW_ADS:\r\n          return {\r\n            ...state,\r\n            newAds: [...state.newAds, action.ads],\r\n            hasMore: action.ads.length > 0\r\n          }*/\n    case SET_ADVERTS:\n      if (action.location !== state.prevLocation && state.prevLocation !== '') {\n        return { ...state,\n          adverts: [],\n          prevLocation: action.location\n        };\n      }\n\n      let newAdvertList = [...state.adverts];\n      action.ads.map(ad => {\n        newAdvertList = [...newAdvertList, ad];\n      });\n      return { ...state,\n        adverts: newAdvertList,\n        prevLocation: action.location\n      };\n\n    default:\n      return state;\n  }\n};\n/*export const setImmovables = (ads) => ({ type: SET_IMMOVABLES, ads });\r\nexport const setTransport = (ads) => ({ type: SET_TRANSPORT, ads });\r\nexport const setHousehold = (ads) => ({ type: SET_HOUSEHOLD, ads });\r\nexport const setHouses = (ads) => ({ type: SET_HOUSES, ads });\r\nexport const setAppartaments = (ads) => ({ type: SET_APPARTAMENTS, ads });\r\nexport const setCars = (ads) => ({ type: SET_CARS, ads });\r\nexport const setMotocycles = (ads) => ({ type: SET_MOTOCYCLES, ads });\r\nexport const setAppliance = (ads) => ({ type: SET_APPLIANCE, ads });\r\nexport const setFurniture = (ads) => ({ type: SET_FURNITURE, ads });\r\nexport const setNewAds = (ads) => ({ type: SET_NEW_ADS, ads });*/\n\n\n_s(advertsReducer, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n\nexport const setAdverts = props => ({\n  type: SET_ADVERTS,\n  ads: props.ads,\n  location: props.location\n});\n/*export const getImmovables = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id1/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setImmovables(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getTransport = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id2/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setTransport(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHousehold = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id3/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setHousehold(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHouses = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id1/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setHouses(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppartaments = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id2/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setAppartaments(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getCars = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id3/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setCars(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getMotocycles = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id4/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setMotocycles(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppliance = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id5/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setAppliance(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getFurniture = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id6/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setFurniture(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getNewAds = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/view?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setNewAds(ad)))\r\n    )\r\n  }\r\n}*/\n\nexport const getImmovables = props => {\n  return dispatch => {\n    axios.get(`/ad/category/id1/?limit=10&page=${props.page}`).then(\n    /*response => response.data.map(ad => dispatch(setAdverts(ad)))*/\n    response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getTransport = props => {\n  return dispatch => {\n    axios.get(`/ad/category/id2/?limit=10&page=${props.page}`).then(\n    /*response => response.data.map(ad => dispatch(setAdverts(ad)))*/\n    response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getHousehold = props => {\n  return dispatch => {\n    axios.get(`/ad/category/id3/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getHouses = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id1/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getAppartaments = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id2/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getCars = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id3/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getMotocycles = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id4/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getAppliance = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id5/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getFurniture = props => {\n  return dispatch => {\n    axios.get(`/ad/subcategory/id6/?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getNewAds = props => {\n  return dispatch => {\n    axios.get(`/ad/view?limit=10&page=${props.page}`).then(response => dispatch(setAdverts({\n      ads: response.data,\n      location: props.location\n    })));\n  };\n};\nexport const getAdverts = props => {\n  return dispatch => {\n    switch (props.location) {\n      case '/':\n        dispatch(getNewAds({\n          page: props.page,\n          location: props.location\n        }));\n        break;\n\n      case '/nedvijimost':\n        dispatch(getImmovables({\n          page: props.page,\n          location: props.location\n        }));\n        break;\n\n      case '/transport':\n        dispatch(getTransport({\n          page: props.page,\n          location: props.location\n        }));\n        break;\n\n      default:\n        return null;\n    }\n  };\n};\nexport default advertsReducer;","map":{"version":3,"sources":["C:/Users/FORTRIX/Desktop/react_project/src/redux/AdvertsReducer.js"],"names":["axios","useLocation","SET_IMMOVABLES","SET_TRANSPORT","SET_HOUSEHOLD","SET_HOUSES","SET_APPARTAMENTS","SET_CARS","SET_MOTOCYCLES","SET_APPLIANCE","SET_FURNITURE","SET_NEW_ADS","SET_ADVERTS","initialState","adverts","prevLocation","advertsReducer","state","action","nav","pathname","type","location","newAdvertList","ads","map","ad","setAdverts","props","getImmovables","dispatch","get","page","then","response","data","getTransport","getHousehold","getHouses","getAppartaments","getCars","getMotocycles","getAppliance","getFurniture","getNewAds","getAdverts"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nconst SET_IMMOVABLES = 'SET_IMMOVABLES';\r\nconst SET_TRANSPORT = 'SET_TRANSPORT';\r\nconst SET_HOUSEHOLD = 'SET_HOUSEHOLD';\r\nconst SET_HOUSES = 'SET_HOUSES';\r\nconst SET_APPARTAMENTS = 'SET_APPARTAMENTS';\r\nconst SET_CARS = 'SET_CARS';\r\nconst SET_MOTOCYCLES = 'SET_MOTOCYCLES';\r\nconst SET_APPLIANCE = 'SET_APPLIANCE';\r\nconst SET_FURNITURE = 'SET_FURNITURE';\r\nconst SET_NEW_ADS = 'SET_NEW_ADS';\r\n\r\nconst SET_ADVERTS = 'SET_ADVERTS';\r\n\r\nlet initialState = {\r\n\r\n/*  // Категории\r\n  immovables: [],\r\n  transport: [],\r\n  household: [],\r\n\r\n  // Подкатегории\r\n  houses: [],\r\n  appartaments: [],\r\n\r\n  cars: [],\r\n  motocycles: [],\r\n\r\n  appliances: [],\r\n  furniture: [],\r\n\r\n  // Последние добавленные\r\n  newAds: [],*/\r\n\r\n  adverts: [],\r\n  prevLocation: ''\r\n}\r\n\r\nconst advertsReducer = (state = initialState, action) => {\r\n\r\n  let nav = useLocation().pathname;\r\n  debugger;\r\n\r\n  switch (action.type) {\r\n\r\n/*    case SET_IMMOVABLES:\r\n      return {\r\n        ...state,\r\n        immovables: [...state.immovables, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_TRANSPORT:\r\n      return {\r\n        ...state,\r\n        transport: [...state.transport, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_HOUSEHOLD:\r\n      return {\r\n        ...state,\r\n        household: [...state.household, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_HOUSES:\r\n      return {\r\n        ...state,\r\n        houses: [...state.houses, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_APPARTAMENTS:\r\n      return {\r\n        ...state,\r\n        appartaments: [...state.appartaments, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_CARS:\r\n      return {\r\n        ...state,\r\n        cars: [...state.cars, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_MOTOCYCLES:\r\n      return {\r\n        ...state,\r\n        motocycles: [...state.motocycles, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_APPLIANCE:\r\n      return {\r\n        ...state,\r\n        appliances: [...state.appliances, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_FURNITURE:\r\n      return {\r\n        ...state,\r\n        furniture: [...state.furniture, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }\r\n\r\n    case SET_NEW_ADS:\r\n      return {\r\n        ...state,\r\n        newAds: [...state.newAds, action.ads],\r\n        hasMore: action.ads.length > 0\r\n      }*/\r\n\r\n    case SET_ADVERTS:\r\n      if (action.location !== state.prevLocation && state.prevLocation !== '') {\r\n        return {\r\n          ...state,\r\n          adverts: [],\r\n          prevLocation: action.location\r\n        }\r\n      }\r\n\r\n      let newAdvertList = [...state.adverts];\r\n      action.ads.map(ad => {\r\n        newAdvertList = [...newAdvertList, ad]\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        adverts: newAdvertList,\r\n        prevLocation: action.location\r\n      }\r\n\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\n/*export const setImmovables = (ads) => ({ type: SET_IMMOVABLES, ads });\r\nexport const setTransport = (ads) => ({ type: SET_TRANSPORT, ads });\r\nexport const setHousehold = (ads) => ({ type: SET_HOUSEHOLD, ads });\r\nexport const setHouses = (ads) => ({ type: SET_HOUSES, ads });\r\nexport const setAppartaments = (ads) => ({ type: SET_APPARTAMENTS, ads });\r\nexport const setCars = (ads) => ({ type: SET_CARS, ads });\r\nexport const setMotocycles = (ads) => ({ type: SET_MOTOCYCLES, ads });\r\nexport const setAppliance = (ads) => ({ type: SET_APPLIANCE, ads });\r\nexport const setFurniture = (ads) => ({ type: SET_FURNITURE, ads });\r\nexport const setNewAds = (ads) => ({ type: SET_NEW_ADS, ads });*/\r\n\r\nexport const setAdverts = (props) => ({type: SET_ADVERTS, ads: props.ads, location: props.location});\r\n\r\n/*export const getImmovables = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id1/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setImmovables(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getTransport = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id2/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setTransport(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHousehold = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id3/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setHousehold(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHouses = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id1/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setHouses(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppartaments = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id2/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setAppartaments(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getCars = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id3/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setCars(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getMotocycles = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id4/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setMotocycles(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppliance = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id5/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setAppliance(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getFurniture = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id6/?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setFurniture(ad)))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getNewAds = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/view?limit=10&page=${page}`).then(\r\n        response => response.data.map(ad => dispatch(setNewAds(ad)))\r\n    )\r\n  }\r\n}*/\r\n\r\nexport const getImmovables = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id1/?limit=10&page=${props.page}`).then(\r\n        /*response => response.data.map(ad => dispatch(setAdverts(ad)))*/\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getTransport = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id2/?limit=10&page=${props.page}`).then(\r\n        /*response => response.data.map(ad => dispatch(setAdverts(ad)))*/\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHousehold = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/category/id3/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getHouses = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id1/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppartaments = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id2/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getCars = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id3/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getMotocycles = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id4/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAppliance = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id5/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getFurniture = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/subcategory/id6/?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getNewAds = (props) => {\r\n  return (dispatch) => {\r\n    axios.get(`/ad/view?limit=10&page=${props.page}`).then(\r\n        response => dispatch(setAdverts({ads: response.data, location: props.location}))\r\n    )\r\n  }\r\n}\r\n\r\nexport const getAdverts = (props) => {\r\n  return (dispatch) => {\r\n\r\n    switch (props.location) {\r\n      case '/':\r\n        dispatch(getNewAds({page: props.page, location: props.location}));\r\n        break;\r\n\r\n      case '/nedvijimost':\r\n        dispatch(getImmovables({page: props.page, location: props.location}));\r\n        break;\r\n\r\n      case '/transport':\r\n        dispatch(getTransport({page: props.page, location: props.location}));\r\n        break;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default advertsReducer;"]},"metadata":{},"sourceType":"module"}